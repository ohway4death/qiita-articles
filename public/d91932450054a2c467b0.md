---
title: Arduino UNO R4 MINIMAでPlatformIO使ってコーディング＆Lチカ
tags:
  - Arduino
  - Lチカ
  - PlatformIO
  - ArduinoUnoR4
private: false
updated_at: '2025-06-12T23:33:21+09:00'
id: d91932450054a2c467b0
organization_url_name: null
slide: false
ignorePublish: false
---
Arduino UNO R4 MINIMAを購入したので、普段M5Stackのコードを作成する際に使っているPlatformIOでコーディングをしてみた。

まずは基本のLチカをやってみる

# Arduino UNO R4 MINIMAについて
2023年に登場したマイコンボード。R3まではATMega328というマイコンが使われていたが、R4からはRA4M1というルネサス製の32ビットマイコンが採用されているとのこと。

R3からの変化としては
- 動作クロックが向上 16MHz → 48MHz
- メモリの増加
    - フラッシュメモリ 32KB → 256KB
    - SRAM 2KB → 32KB
    - EEPROM 1KB → 8KB
- 電源入力範囲の拡大 7~12V → 6~24V
- USBポートの変更 Type-B → Type-C

Type-Cなのはありがたいですね～

# PlatformIOでの準備
ArduinoとPCをUSB-Cケーブルで繋ぐ。電源供給と書き込みが出来るのは便利。

VS CodeでPlatformIOを開き、以下のように設定。
- Name Lchika
- Board Arduino UNO R4 Minima
- Framework Arduino
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/272113/70f11154-2ed7-4f79-a7c0-f51b134d60a6.png)

結構時間がかかる。

Nameでディレクトリが作られその中にある`src > main.cpp`を編集してコードを作成していく。

# Lチカについて
Arduino UNO R4 MinimaにはLEDがついており、pin13がそのLEDとつながっているとのこと。そのため、そのpin13に対して入力することでLEDがチカチカする。

今回はこんな感じでコードを作成した。

```
#include <Arduino.h>

void setup()
{
  digitalWrite(13, LOW); // ピンの初期化
  pinMode(13, OUTPUT);   // 13ピンを出力として利用する
}

void loop()
{
  digitalWrite(13, HIGH); // 13ピンをHIGHに
  delay(100);             // ms単位で停止
  digitalWrite(13, LOW);  // 13ピンをLOWに
  delay(100);             // ms単位で停止
}
```

BuildからのUpload
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/272113/74760891-d599-4c6d-b3cb-01f7ccc9090d.png)

何かエラーが発生。
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/272113/8becbfe2-7d62-43b5-80ec-99c063f78a7e.png)

`Cannot Open DFU device`と出ており、調べたところドライバーがないかもということでインストールを実施。どうやら一旦ArduinoのIDEを起動しないとインストールできないとのこと。めんどくさい。。。

Arduinoの公式サイトからIDEをインストール。

https://www.arduino.cc/en/software/

開いてこの部分で接続しているArduino UNO R4 MINIMAを選択するとなんかインストールを求められるのでYesを選択。
![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/272113/3f8e0f13-5daa-488b-8310-a671e4fa287b.png)

これでドライバーがインストールされる。

これで再度Uploadしたらうまくいった。

# 結果
ちゃんと光りました！！

![Lchika ‐ Clipchampで作成_1749738501105.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/272113/3e78e97c-2013-4867-a1cf-a72b1c4d59ed.gif)


# 参考にさせていただいたサイト

https://omoroya.com/arduino-r3-r4-comparison/


https://kakitamablog.com/arduino-r4-minima-lchika/


https://qiita.com/ELIXIR/items/74350343b19a51e06a61

